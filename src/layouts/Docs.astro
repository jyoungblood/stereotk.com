---
interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html>
  <head>
    <title>{title}</title>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"
    />

    <link
      rel="stylesheet"
      href="https://unpkg.com/tachyons@4.12.0/css/tachyons.css"
    />
    <link rel="stylesheet" href="/css/styles.v2.css" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@catppuccin/highlightjs@0.1.4/css/catppuccin-mocha.css"
    />
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@catppuccin/highlightjs@0.1.4/css/catppuccin-latte.css"> -->

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/highlightjs-copy@1.0.5/dist/highlightjs-copy.min.css"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/highlightjs-copy@1.0.5/dist/highlightjs-copy.min.js"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"
    ></script>
    <!-- fixit -->
    <!-- <script>
    hljs.highlightAll();
    hljs.addPlugin(new CopyButtonPlugin());
  </script> -->

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/jyoungblood/pocketdocs@0.0.2/css/styles.css"
    />
    <!-- <script
      src="https://cdn.jsdelivr.net/gh/jyoungblood/pocketdocs@0.0.2/js/scripts.js"
    ></script> -->

    <!-- <link rel="stylesheet" href="./css/styles.css"> -->
    <!-- <script src="./js/scripts.js"></script> -->

    <script>
      // fixit if we care
      // dropdown menu
      // highlighting current (but only for sublink)

      // window.addEventListener("DOMContentLoaded", () => {
      //   const observer = new IntersectionObserver(
      //     (entries) => {
      //       entries.forEach((entry) => {
      //         const id = entry.target.getAttribute("id");
      //         if (document.querySelector('[href="#' + id + '"]') !== null) {
      //           if (entry.intersectionRatio > 0) {
      //             document
      //               .querySelectorAll("nav a")
      //               .forEach((el) => el.classList.remove("current"));
      //             document
      //               .querySelector('[href="#' + id + '"]')
      //               .classList.add("current");
      //             history.pushState({}, "", "#" + id);
      //           }
      //         }
      //       });
      //     },
      //     { rootMargin: "0px 0px -90% 0px" }
      //   );

      //   document.querySelectorAll("[id]").forEach((section) => {
      //     observer.observe(section);
      //   });
      // });

      // function dropdown_toggle() {
      //   document.getElementById("sidebar").classList.toggle("mobile-hidden");
      // }

      // document.addEventListener(
      //   "click",
      //   function (event) {
      //     if (
      //       event.target.closest("main") ||
      //       document.querySelector("nav").contains(event.target)
      //     ) {
      //       document.getElementById("sidebar").classList.add("mobile-hidden");
      //     }
      //   },
      //   false
      // );
    </script>
  </head>

  <body>
    <section id="sidebar" class="mobile-hidden">
      <header onclick="dropdown_toggle()">
        <div class="title-container">
          <div class="logo">
            <a href="/docs">
              <img
                src="/images/stereo-headphones-black.svg"
                class=""
                style="height: 2.75rem;"
              />
            </a>
          </div>

          <div class="title">
            <a href="/docs">
              <strong>STEREO</strong>
              <span>INTERNET TOOLKIT</span>
            </a>
          </div>
        </div>

        <div class="dd-icon">
          <svg
            class="dd-open"
            stroke="currentColor"
            fill="none"
            stroke-width="0"
            viewBox="0 0 15 15"
            xmlns="http://www.w3.org/2000/svg"
            ><path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z"
              fill="currentColor"></path></svg
          >
          <svg
            class="dd-close"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            height="200px"
            width="200px"
            xmlns="http://www.w3.org/2000/svg"
            ><path
              d="M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"
            ></path></svg
          >
        </div>
      </header>

      <nav>
        <!--         
        <a
          class:list={[
            "f6 pb1 mh2 no-underline",
            Astro.url.pathname.includes("/about") ? "current" : "",
          ]}
          href="/about">About</a
        >
           -->

        <ul>
          <li>
            <a
              class:list={[
                "",
                Astro.url.pathname.includes("/docs/what") ? "current" : "",
              ]}
              href="/docs/what">What is STEREO?</a
            >
          </li>
          <li>
            <a
              class:list={[
                "",
                Astro.url.pathname.includes("/docs/installation")
                  ? "current"
                  : "",
              ]}
              href="/docs/installation">Installation</a
            >
          </li>
          <li>
            <a
              class:list={[
                "",
                Astro.url.pathname.includes("/docs/structure") ? "current" : "",
              ]}
              href="/docs/structure">Structure</a
            >
          </li>
          <li>
            <a
              class:list={[
                "",
                Astro.url.pathname.includes("/docs/rendering") ? "current" : "",
              ]}
              href="/docs/rendering">Routing & Rendering</a
            >
          </li>
          <li>
            <a
              class:list={[
                "",
                Astro.url.pathname.includes("/docs/templates") ? "current" : "",
              ]}
              href="/docs/templates">Templates</a
            >
          </li>
          <li>
            <a
              class:list={[
                "",
                Astro.url.pathname.includes("/docs/deployment")
                  ? "current"
                  : "",
              ]}
              href="/docs/deployment">Deployment</a
            >
          </li>
          <li>
            <a
              class:list={[
                "",
                Astro.url.pathname.includes("/docs/resources") ? "current" : "",
              ]}
              href="/docs/resources">External Resources</a
            >
          </li>
        </ul>
        <!-- 
        <ul>
          <li>
            <a
              class:list={[
                "",
                Astro.url.pathname.includes("/docs/getting-started")
                  ? "current"
                  : "",
              ]}
              href="/docs/getting-started">Getting Started</a>
          </li>
          <ul>
            <li>
              <a href="/docs/getting-started#core-concepts">Core Concepts</a>
            </li>
            <li>
              <a href="/docs/getting-started#code-samples">Code Samples</a>
            </li>
          </ul>
        </ul>
 -->
        <!--         
        <ul>
          <li>
            <a
              class:list={[
                "",
                Astro.url.pathname.includes("/docs/next-steps")
                  ? "current"
                  : "",
              ]}
              href="/docs/next-steps">Next Steps</a>
          </li>
        </ul>
 -->
      </nav>
    </section>

    <main>
      <slot />

      <footer>
        <a href="https://jyoungblood.github.io/">&copy; 2048 JY â™¥</a>
      </footer>
    </main>
  </body>
</html>
